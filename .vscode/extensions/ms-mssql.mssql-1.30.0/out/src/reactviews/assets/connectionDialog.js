import{a as Yo}from"./chunk-ZN3SPHKT.js";import"./chunk-BYXBJQAS.js";import{b as co,c as ee,e as po}from"./chunk-LO5WMIDP.js";import{$ as qe,Ba as v,Bb as je,Ca as we,Cb as eo,Da as L,Db as oo,Ea as Je,Eb as J,Fa as U,Ga as Xe,Ha as le,Ia as Ye,Ib as to,Ja as G,Jb as no,Ka as ce,Kb as io,La as pe,Lb as ro,Ma as de,Mb as ao,Na as _,Nb as i,Oa as $,Ob as so,Pb as lo,Ra as j,Ta as Qe,Ua as me,V as Ee,W as We,Wa as ue,Xa as ge,Ya as fe,Za as Ce,_a as ve,a as ae,ba as be,c as a,d as w,g as Xo,j as Me,k as O,la as he,oa as Ge,pa as _e,qa as $e,r as c,ra as Ze,ua as Ke,va as Ue,x as se,y as He,z as Ve}from"./chunk-Z2VFB3HA.js";var Fo=ae((bn,ot)=>{ot.exports="./database_light-P2676YLL.svg"});var bo=ae((hn,tt)=>{tt.exports="./database_dark-Z7UUEBQM.svg"});var Bo=ae((Qn,ct)=>{ct.exports="./azure-inverse-BNVI7L64.svg"});var Oo=ae((jn,pt)=>{pt.exports="./azure-DLOJF6JL.svg"});var Eo=a(Xo());var Ho=a(Yo());var Pe=a(w());var mo=a(w());var go=a(c()),S=(0,mo.createContext)(void 0),uo=({children:e})=>{let o=lo(),n=o?.state;return(0,go.jsx)(S.Provider,{value:{state:n,themeKind:o?.themeKind,...po(o),loadConnection:function(t){o?.extensionRpc.action("loadConnection",{connection:t})},formAction:function(t){o?.extensionRpc.action("formAction",{event:t})},setConnectionInputType:function(t){o?.extensionRpc.action("setConnectionInputType",{inputMode:t})},connect:function(){o?.extensionRpc.action("connect")},loadAzureServers:function(t){o?.extensionRpc.action("loadAzureServers",{subscriptionId:t})},addFirewallRule:function(t,r,l){o?.extensionRpc.action("addFirewallRule",{name:t,tenantId:r,ip:l})},closeDialog:function(){o?.extensionRpc.action("closeDialog")},filterAzureSubscriptions:function(){o.extensionRpc.action("filterAzureSubscriptions")},refreshConnectionsList:function(){o.extensionRpc.action("refreshConnectionsList")},deleteSavedConnection:function(t){o.extensionRpc.action("deleteSavedConnection",{connection:t})},removeRecentConnection:function(t){o.extensionRpc.action("removeRecentConnection",{connection:t})}},children:e})};var D=a(c()),Te="buttonContainer",Co=O({paneTitle:{marginTop:"12px",marginBottom:"12px",marginRight:"12px"},main:{gap:"5px",display:"flex",flexDirection:"column",flexWrap:"wrap"},connectionContainer:{width:"100%",maxWidth:"100%",height:"fit-content",padding:"5px",margin:"0px",[`& .${Te}`]:{visibility:"hidden"},":hover":{[`& .${Te}`]:{visibility:"visible"}}},horizontalCardImage:{width:"50px",height:"30px",paddingRight:"0px"},caption:{color:se.colorNeutralForeground3},text:{margin:"0"}}),vo=()=>{let e=Co(),o=(0,Pe.useContext)(S);if(o!==void 0)return(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:e.paneTitle,children:[(0,D.jsx)(j,{weight:"semibold",className:e.paneTitle,children:i.connectionDialog.savedConnections}),(0,D.jsx)(v,{icon:(0,D.jsx)(be,{}),appearance:"subtle",onClick:o.refreshConnectionsList})]}),(0,D.jsx)("div",{className:e.main,children:o.state?.savedConnections.map((n,t)=>(0,D.jsx)(fo,{connection:n,actionButton:{icon:(0,D.jsx)(he,{}),onClick:r=>{o.deleteSavedConnection(n),r.stopPropagation()},tooltip:i.connectionDialog.deleteSavedConnection}},"saved"+t))}),(0,D.jsxs)("div",{className:e.paneTitle,children:[(0,D.jsx)(j,{weight:"semibold",className:e.paneTitle,children:i.connectionDialog.recentConnections}),(0,D.jsx)(v,{icon:(0,D.jsx)(be,{}),appearance:"subtle",onClick:o.refreshConnectionsList})]}),(0,D.jsx)(oo,{children:o.state?.recentConnections.map((n,t)=>(0,D.jsx)(fo,{connection:n,actionButton:{icon:(0,D.jsx)(he,{}),onClick:r=>{o.removeRecentConnection(n),r.stopPropagation()},tooltip:i.connectionDialog.removeRecentConnection}},"mru"+t))})]})},fo=({connection:e,key:o,actionButton:n})=>{let t=Co(),r=(0,Pe.useContext)(S);if(r!==void 0)return(0,D.jsx)(je,{className:t.connectionContainer,appearance:"subtle",onClick:()=>{r.loadConnection(e)},children:(0,D.jsx)(eo,{image:(0,D.jsx)(qe,{fontSize:20}),header:e.displayName,action:n&&(0,D.jsx)("div",{className:Te,children:(0,D.jsx)(v,{icon:n.icon,appearance:"subtle",onClick:n.onClick,title:n.tooltip})})})},o)};var oe=a(w()),x=a(c()),Ae=({context:e,value:o,target:n,type:t,props:r})=>{let[l,p]=(0,oe.useState)(o),[b,E]=(0,oe.useState)(!1);(0,oe.useEffect)(()=>{p(o)},[o]);let R=z=>{p(z)},N=()=>{e?.formAction({propertyName:n,isAction:!1,value:l})};return(0,x.jsxs)(x.Fragment,{children:[t==="input"&&(0,x.jsx)(G,{value:l,onChange:(z,I)=>R(I.value),onBlur:N,size:"small",...r}),t==="password"&&(0,x.jsx)(G,{type:b?"text":"password",value:l,onChange:(z,I)=>R(I.value),onBlur:N,size:"small",contentAfter:(0,x.jsx)(v,{onClick:()=>E(!b),icon:b?(0,x.jsx)(Ee,{}):(0,x.jsx)(We,{}),appearance:"transparent",size:"small"}),...r}),t==="textarea"&&(0,x.jsx)(Qe,{value:l,size:"small",onChange:(z,I)=>R(I.value),onBlur:N,...r})]})},A=({context:e,component:o,idx:n,props:t,componentProps:r})=>{if(!o){console.error("Form component is undefined");return}let l=T();return(0,x.jsxs)("div",{className:l.formComponentDiv,children:[(0,x.jsx)(L,{validationMessage:o.validation?.validationMessage??"",orientation:o.type==="checkbox"?"horizontal":"vertical",validationState:o.validation?o.validation.isValid?"none":"error":"none",required:o.required,label:o.tooltip?{children:(p,b)=>(0,x.jsx)(to,{...b,info:o.tooltip,children:o.label})}:o.label,...t,style:{color:se.colorNeutralForeground1},children:Qo(e,o,r)}),o?.actionButtons?.length>0&&(0,x.jsx)("div",{className:l.formComponentActionDiv,children:o.actionButtons?.map((p,b)=>(0,x.jsx)(v,{appearance:"outline",style:{width:"120px"},onClick:()=>e?.formAction({propertyName:o.propertyName,isAction:!0,value:p.id}),children:p.label},b+p.id))})]},n)};function Qo(e,o,n){let t=e.state.formState;switch(o.type){case"input":return(0,x.jsx)(Ae,{context:e,value:t[o.propertyName]??"",target:o.propertyName,type:"input",props:n});case"textarea":return(0,x.jsx)(Ae,{context:e,value:t[o.propertyName]??"",target:o.propertyName,type:"textarea",props:n});case"password":return(0,x.jsx)(Ae,{context:e,value:t[o.propertyName]??"",target:o.propertyName,type:"password",props:n});case"dropdown":if(o.options===void 0)throw new Error("Dropdown component must have options");return(0,x.jsx)(le,{size:"small",placeholder:o.placeholder??"",value:o.options.find(r=>r.value===t[o.propertyName])?.displayName??"",selectedOptions:[t[o.propertyName]],onOptionSelect:(r,l)=>{e?.formAction({propertyName:o.propertyName,isAction:!1,value:l.optionValue})},...n,children:o.options?.map((r,l)=>(0,x.jsx)(U,{value:r.value,children:r.displayName},o.propertyName+l))});case"checkbox":return(0,x.jsx)(Je,{size:"medium",checked:t[o.propertyName]??!1,onChange:(r,l)=>e?.formAction({propertyName:o.propertyName,isAction:!1,value:l.checked}),...n})}}var T=O({formRoot:{display:"flex",flexDirection:"column",height:"100%"},formDiv:{padding:"10px",maxWidth:"600px",display:"flex",flexDirection:"column","> *":{margin:"5px"}},formComponentDiv:{"> *":{margin:"5px"}},formComponentActionDiv:{display:"flex",flexDirection:"row","> *":{margin:"5px"}},formNavTrayButton:{width:"150px",alignSelf:"center",margin:"0px 10px"},formNavTray:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0px"},formNavTrayRight:{display:"flex",marginLeft:"auto"}});var Lo=a(w());var u=a(w());var Do=a(w());var Re=a(c()),jo="connectButton",X=({style:e,className:o})=>{let n=(0,Do.useContext)(S);if(n)return(0,Re.jsx)(v,{id:jo,type:"submit",appearance:"primary",disabled:n.state.connectionStatus==="loading",className:o,style:e,iconPosition:"after",icon:n.state.connectionStatus==="loading"?(0,Re.jsx)($,{size:"tiny"}):void 0,children:i.connectionDialog.connect})};var xo=a(w());var y=a(c()),Se=({isAdvancedDrawerOpen:e,setIsAdvancedDrawerOpen:o})=>{let n=(0,xo.useContext)(S);if(n!==void 0)return(0,y.jsxs)(no,{position:"end",size:"medium",open:e,onOpenChange:(t,{open:r})=>o(r),children:[(0,y.jsx)(ro,{children:(0,y.jsx)(ao,{action:(0,y.jsx)(v,{appearance:"subtle","aria-label":"Close",icon:(0,y.jsx)(Ge,{}),onClick:()=>o(!1)}),children:i.connectionDialog.advancedConnectionSettings})}),(0,y.jsxs)(io,{children:[(0,y.jsx)("div",{style:{margin:"20px 0px"},children:n.state.connectionComponents.topAdvancedOptions.map((t,r)=>(0,y.jsx)(A,{context:n,component:n.state.formComponents[t],idx:r},r))}),(0,y.jsx)(He,{multiple:!0,collapsible:!0,children:n.state.connectionComponents.groupedAdvancedOptions.map((t,r)=>(0,y.jsxs)(Ve,{value:t.groupName,children:[(0,y.jsx)(Ke,{children:t.groupName}),(0,y.jsx)(Ue,{children:t.options.map((l,p)=>{if(n.state.formComponents[l]?.hidden!==!0)return(0,y.jsx)(A,{context:n,component:n.state.formComponents[l],idx:p},p)})})]},r))})]})]})};function te(e,o,n,t,r=1){if(e===void 0||e&&!t.includes(e)){let l;if(t.length>0)switch(r){case 0:l=t.length>0?t[0]:void 0;break;case 2:l=t.length===1?t[0]:void 0;break;case 1:default:l=void 0}o(l),n(l??"")}}var De=a(w()),Z=a(c()),et=O({decoration:{display:"flex",alignItems:"center",columnGap:"4px"}}),Y=({label:e,required:o,clearable:n,content:t,decoration:r,props:l})=>{let p=T(),b=et(),[E,R]=(0,De.useState)("");(0,De.useEffect)(()=>{t.valueList.includes(t.value)&&R("")},[t.value]);let N=()=>{t.value&&R(t.valueList.includes(t.value)?"":t.invalidOptionErrorMessage)},z=(k,B)=>{t.setSelection(B.selectedOptions.length>0?B.selectedOptions[0]:""),t.setValue(B.optionText??"")};function I(k){t.setValue(k.target.value)}return(0,Z.jsx)("div",{className:p.formComponentDiv,children:(0,Z.jsx)(L,{label:r?(0,Z.jsxs)("div",{className:b.decoration,children:[e,r]}):e,orientation:"horizontal",required:o,validationMessage:E,onBlur:N,children:(0,Z.jsx)(Xe,{...l,value:t.value,selectedOptions:t.selection?[t.selection]:[],onInput:I,onOptionSelect:z,placeholder:t.placeholder,clearable:n,children:t.valueList.map((k,B)=>(0,Z.jsx)(U,{value:k,children:k},B))})})})};var f=a(c()),Io=()=>{let e=(0,u.useContext)(S),o=T(),[n,t]=(0,u.useState)(!1);if(e===void 0)return;let[r,l]=(0,u.useState)([]),[p,b]=(0,u.useState)(void 0),[E,R]=(0,u.useState)(""),[N,z]=(0,u.useState)([]),[I,k]=(0,u.useState)(void 0),[B,re]=(0,u.useState)(""),[Q,ye]=(0,u.useState)([]),[W,P]=(0,u.useState)(void 0),[h,ze]=(0,u.useState)(""),[Wo,qo]=(0,u.useState)([]),[q,Go]=(0,u.useState)(void 0),[_o,Fe]=(0,u.useState)(""),[$o,Zo]=(0,u.useState)([]),[Ko,ke]=(0,u.useState)(void 0),[Uo,Jo]=(0,u.useState)("");function Be(s){Go(s),Oe("server",s?s+".database.windows.net":"")}(0,u.useEffect)(()=>{let s=ee(e.state.azureSubscriptions.map(g=>`${g.name} (${g.id})`));l(s.sort()),te(p,b,R,s,1)},[e.state.azureSubscriptions]),(0,u.useEffect)(()=>{let s=e.state.azureServers;p&&(s=s.filter(m=>m.subscription===p));let g=ee(s.map(m=>m.resourceGroup));z(g.sort()),te(I,k,re,g,1)},[r,p,e.state.azureServers]),(0,u.useEffect)(()=>{let s=e.state.azureServers;p&&(s=s.filter(m=>m.subscription===p)),I&&(s=s.filter(m=>m.resourceGroup===I));let g=ee(s.map(m=>m.location));ye(g.sort()),te(W,P,ze,g,1)},[N,I,e.state.azureServers]),(0,u.useEffect)(()=>{let s=e.state.azureServers;p&&(s=s.filter(m=>m.subscription===p)),I&&(s=s.filter(m=>m.resourceGroup===I)),W&&(s=s.filter(m=>m.location===W));let g=ee(s.map(m=>m.server));qo(g.sort()),q===""?Fe(""):te(q,Be,Fe,g,0)},[Q,W,e.state.azureServers]),(0,u.useEffect)(()=>{if(!q)return;let s=e.state.azureServers.find(m=>m.server===q);if(!s)return;let g=s.databases;Zo(g.sort()),ke(g.length===1?g[0]:void 0)},[q]);function Oe(s,g){e.formAction({propertyName:s,value:g,isAction:!1})}return(0,f.jsxs)("div",{children:[(0,f.jsx)(Y,{label:i.connectionDialog.subscriptionLabel,clearable:!0,decoration:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(v,{icon:(0,f.jsx)(_e,{}),appearance:"subtle",title:i.connectionDialog.filterSubscriptions,onClick:()=>{e.filterAzureSubscriptions()}}),e.state.loadingAzureSubscriptionsStatus==="loading"?(0,f.jsx)($,{size:"tiny"}):void 0]}),content:{valueList:r,value:E,setValue:R,selection:p,setSelection:s=>{if(b(s),s===void 0)return;let g=s.indexOf("(");if(g===-1)return;let m=s.indexOf(")",g);if(m===-1)return;let Le=s.substring(g+1,m);Le.length!==0&&e.loadAzureServers(Le)},placeholder:i.connectionDialog.azureFilterPlaceholder(i.connectionDialog.subscription),invalidOptionErrorMessage:i.connectionDialog.invalidAzureBrowse(i.connectionDialog.subscription)}}),(0,f.jsx)(Y,{label:i.connectionDialog.resourceGroupLabel,clearable:!0,content:{valueList:N,value:B,setValue:re,selection:I,setSelection:k,placeholder:i.connectionDialog.azureFilterPlaceholder(i.connectionDialog.resourceGroup),invalidOptionErrorMessage:i.connectionDialog.invalidAzureBrowse(i.connectionDialog.resourceGroup)}}),(0,f.jsx)(Y,{label:i.connectionDialog.locationLabel,clearable:!0,content:{valueList:Q,value:h,setValue:ze,selection:W,setSelection:P,placeholder:i.connectionDialog.azureFilterPlaceholder(i.connectionDialog.location),invalidOptionErrorMessage:i.connectionDialog.invalidAzureBrowse(i.connectionDialog.location)}}),(0,f.jsx)(Y,{label:i.connectionDialog.serverLabel,required:!0,decoration:e.state.loadingAzureServersStatus==="loading"?(0,f.jsx)($,{size:"tiny"}):void 0,content:{valueList:Wo,value:_o,setValue:Fe,selection:q,setSelection:Be,invalidOptionErrorMessage:i.connectionDialog.invalidAzureBrowse(i.connectionDialog.server)}}),q&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(A,{context:e,component:e.state.formComponents.trustServerCertificate,idx:0,props:{orientation:"horizontal"}}),(0,f.jsx)(Y,{label:i.connectionDialog.databaseLabel,clearable:!0,content:{valueList:$o,value:Uo,setValue:Jo,selection:Ko,setSelection:s=>{ke(s),Oe("database",s??"")},placeholder:`<${i.connectionDialog.default}>`,invalidOptionErrorMessage:i.connectionDialog.invalidAzureBrowse(i.connectionDialog.database)}}),e.state.connectionComponents.mainOptions.filter(s=>!["server","database","trustServerCertificate"].includes(s)).map((s,g)=>{let m=e.state.formComponents[s];if(m?.hidden===!1)return(0,f.jsx)(A,{context:e,component:m,idx:g,props:{orientation:"horizontal"}},g)})]}),(0,f.jsx)(Se,{isAdvancedDrawerOpen:n,setIsAdvancedDrawerOpen:t}),(0,f.jsxs)("div",{className:o.formNavTray,children:[(0,f.jsx)(v,{onClick:s=>{t(!n)},className:o.formNavTrayButton,children:i.connectionDialog.advancedSettings}),(0,f.jsx)("div",{className:o.formNavTrayRight,children:(0,f.jsx)(X,{className:o.formNavTrayButton})})]})]})};var xe=a(w());var H=a(c()),yo=()=>{let e=(0,xe.useContext)(S),[o,n]=(0,xe.useState)(!1),t=T();if(e!==void 0)return(0,H.jsxs)("div",{children:[e.state.connectionComponents.mainOptions.map((r,l)=>{let p=e.state.formComponents[r];if(p?.hidden===!1)return(0,H.jsx)(A,{context:e,component:p,idx:l,props:{orientation:"horizontal"}},l)}),(0,H.jsx)(Se,{isAdvancedDrawerOpen:o,setIsAdvancedDrawerOpen:n}),(0,H.jsxs)("div",{className:t.formNavTray,children:[(0,H.jsx)(v,{onClick:r=>{n(!o)},className:t.formNavTrayButton,children:i.connectionDialog.advancedSettings}),(0,H.jsx)("div",{className:t.formNavTrayRight,children:(0,H.jsx)(X,{className:t.formNavTrayButton})})]})]})};var ho=a(w()),ne=a(c()),nt=Fo(),it=bo(),wo=()=>{let e=(0,ho.useContext)(S);return(0,ne.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,ne.jsx)(ce,{style:{padding:"10px"},src:e?.themeKind===1?nt:it,alt:i.connectionDialog.connectToDatabase,height:60,width:60}),(0,ne.jsx)(j,{size:500,style:{lineHeight:"60px"},weight:"medium",children:i.connectionDialog.connectToDatabase})]})};var To=a(w());var K=a(c()),Po=()=>{let e=(0,To.useContext)(S),o=T();if(e===void 0)return;let n=0;return(0,K.jsxs)("div",{children:[(0,K.jsx)(A,{context:e,component:e.state.formComponents.connectionString,idx:n,props:{orientation:"horizontal"},componentProps:{style:{height:"200px"}}},n++),(0,K.jsx)("div",{className:o.formNavTray,children:(0,K.jsx)("div",{className:o.formNavTrayRight,children:(0,K.jsx)(X,{className:o.formNavTrayButton})})})]})};var No=a(w());var Ao="https://learn.microsoft.com/sql/database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine",Ro="https://aka.ms/sqlopsfirewallhelp";var F=a(c()),zo=({dialogProps:e})=>{let o=(0,No.useContext)(S);if(o.state.dialog?.type==="trustServerCert")return(0,F.jsx)(me,{open:e.type==="trustServerCert",children:(0,F.jsx)(Ce,{children:(0,F.jsxs)(ge,{children:[(0,F.jsx)(fe,{children:i.connectionDialog.connectionErrorTitle}),(0,F.jsxs)(ve,{children:[(0,F.jsx)(J,{intent:"error",style:{paddingRight:"12px"},children:e.message}),(0,F.jsx)("br",{}),i.connectionDialog.trustServerCertMessage,(0,F.jsx)("br",{}),(0,F.jsx)("br",{}),i.connectionDialog.trustServerCertPrompt," ",(0,F.jsx)(pe,{href:Ao,children:i.connectionDialog.readMore})]}),(0,F.jsxs)(ue,{children:[(0,F.jsx)(v,{appearance:"primary",onClick:()=>{o.closeDialog(),o.state.selectedInputMode==="connectionString"?o.formAction({propertyName:"connectionString",value:at(o.state.formState.connectionString??"","trustServerCertificate",!0),isAction:!1}):o.formAction({propertyName:"trustServerCertificate",value:!0,isAction:!1}),o.connect()},children:i.connectionDialog.enableTrustServerCertificateButton}),(0,F.jsx)(v,{appearance:"secondary",onClick:()=>{o.closeDialog()},children:i.common.cancel})]})]})})})};function at(e,o,n){if(new RegExp(`${o}\\s*=`).test(e)){let r=new RegExp(`${o}\\s*=\\s*[^;]*`);return e.replace(r,`${o}=${n}`)}else return`${e};${o}=${n}`}var M=a(w());var d=a(c());var st=O({ipInputBox:{marginLeft:"8px",marginRight:"8px",width:"120px"}}),ko=({dialogProps:e})=>{let o=(0,M.useContext)(S),n=st(),t=T(),[r,l]=(0,M.useState)(!1),[p,b]=(0,M.useState)(e.tenants[0].id),[E,R]=(0,M.useState)(Ne(e.tenants[0])),[N,z]=(0,M.useState)("ClientIPAddress_"+lt(new Date)),[I,k]=(0,M.useState)("specificIp"),[B,re]=(0,M.useState)(e.clientIp.replace(/\.[0-9]+$/g,".0")),[Q,ye]=(0,M.useState)(e.clientIp.replace(/\.[0-9]+$/g,".255")),W=(P,h)=>{b(h.selectedOptions.length>0?h.selectedOptions[0]:""),R(h.optionText??"")};return(0,d.jsx)(me,{open:e.type==="addFirewallRule",children:(0,d.jsx)(Ce,{children:(0,d.jsxs)(ge,{children:[(0,d.jsx)(fe,{children:i.connectionDialog.createNewFirewallRule}),(0,d.jsxs)(ve,{children:[(0,d.jsx)(J,{intent:"error",style:{paddingRight:"12px"},children:e.message}),(0,d.jsx)("br",{}),i.connectionDialog.firewallRuleNeededMessage," ",(0,d.jsx)(pe,{href:Ro,children:i.connectionDialog.readMore}),(0,d.jsxs)("div",{style:{marginTop:"12px"},children:[e.tenants.length>0&&(0,d.jsx)(L,{label:"Tenant",className:t.formComponentDiv,children:(0,d.jsx)(le,{value:E,selectedOptions:[p],onOptionSelect:W,children:e.tenants.map(P=>(0,d.jsx)(U,{text:Ne(P),value:P.id,children:Ne(P)},P.id))})}),(0,d.jsx)(L,{label:"Rule name",className:t.formComponentDiv,children:(0,d.jsx)(G,{value:N,onChange:(P,h)=>{z(h.value)},id:"ruleName"})}),(0,d.jsx)(L,{className:t.formComponentDiv,children:(0,d.jsxs)(de,{value:I,onChange:(P,h)=>k(h.value),children:[(0,d.jsx)(_,{label:`Add my client IP (${e.clientIp})`,value:"specificIp"}),(0,d.jsx)(_,{label:"Add my subnet IP range",value:"ipRange"})]})}),(0,d.jsxs)("div",{className:t.formComponentDiv,style:{marginLeft:"40px"},children:[(0,d.jsx)(we,{children:"From"}),(0,d.jsx)(G,{value:B,onChange:(P,h)=>{re(h.value)},id:"startIpInput",disabled:I==="specificIp",className:n.ipInputBox}),(0,d.jsx)(we,{children:"To"}),(0,d.jsx)(G,{value:Q,onChange:(P,h)=>{ye(h.value)},id:"endIpInput",disabled:I==="specificIp",className:n.ipInputBox})]})]})]}),(0,d.jsxs)(ue,{children:[(0,d.jsx)(v,{appearance:"primary",onClick:()=>{l(!0),o.addFirewallRule(N,p,I==="specificIp"?e.clientIp:{startIp:B,endIp:Q})},icon:r?(0,d.jsx)($,{size:"tiny"}):void 0,children:i.connectionDialog.addFirewallRule}),(0,d.jsx)(v,{appearance:"secondary",onClick:()=>{o.closeDialog()},children:i.common.cancel})]})]})})})};function ie(e){return e.toString().padStart(2,"0")}function lt(e){return[e.getFullYear(),ie(e.getMonth()+1),ie(e.getDate())].join("-")+"_"+[ie(e.getHours()),ie(e.getMinutes()),ie(e.getSeconds())].join("-")}function Ne({name:e,id:o}){return`${e} (${o})`}var C=a(c());function dt(e){switch(e?.state.selectedInputMode){case"parameters":return(0,C.jsx)(yo,{});case"connectionString":return(0,C.jsx)(Po,{});case"azureBrowse":return(0,C.jsx)(Io,{})}}var Mo=()=>{let e=(0,Lo.useContext)(S),o=T();function n(r){return co(r)==="dark"?Bo():Oo()}function t(r){r.preventDefault(),e.connect()}return(0,C.jsxs)("form",{onSubmit:t,className:o.formRoot,children:[(0,C.jsx)(wo,{}),(0,C.jsxs)("div",{className:o.formDiv,style:{overflow:"auto"},children:[e.state.formError&&(0,C.jsx)(J,{intent:"error",style:{minHeight:"min-content"},children:e.state.formError}),e.state.dialog?.type==="trustServerCert"&&(0,C.jsx)(zo,{dialogProps:e.state.dialog}),e.state.dialog?.type==="addFirewallRule"&&(0,C.jsx)(ko,{dialogProps:e.state.dialog}),(0,C.jsx)(A,{context:e,component:e.state.formComponents.profileName,idx:0,props:{orientation:"horizontal"}}),(0,C.jsx)("div",{className:o.formComponentDiv,children:(0,C.jsx)(L,{label:"Input type",orientation:"horizontal",children:(0,C.jsxs)(de,{onChange:(r,l)=>{e.setConnectionInputType(l.value)},value:e.state.selectedInputMode,children:[(0,C.jsx)(_,{value:"parameters",label:(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,C.jsx)($e,{style:{marginRight:"8px"}}),i.connectionDialog.parameters]})}),(0,C.jsx)(_,{value:"connectionString",label:(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,C.jsx)(Ze,{style:{marginRight:"8px"}}),i.connectionDialog.connectionString]})}),(0,C.jsx)(_,{value:"azureBrowse",label:(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,C.jsx)(ce,{src:n(e.themeKind),alt:"Azure",height:20,width:20,style:{marginRight:"8px"}}),i.connectionDialog.browseAzure]})})]})})}),dt(e)]})]})};var V=a(c()),mt=O({root:{flexDirection:"row",display:"flex",height:"100%",width:"100%",maxWidth:"100%",maxHeight:"100%"},mainContainer:{...Me.flex(1),height:"100%"},mruContainer:{position:"relative",height:"100%",width:"325px",padding:"20px"},mruPaneHandle:{position:"absolute",top:"0",left:"0",width:"10px",height:"100%",cursor:"ew-resize",zIndex:1}}),Vo=()=>{let e=mt();return(0,V.jsxs)("div",{className:e.root,children:[(0,V.jsx)("div",{className:e.mainContainer,children:(0,V.jsx)(Mo,{})}),(0,V.jsx)(Ye,{style:{width:"5px",height:"100%",flex:0},vertical:!0}),(0,V.jsx)(Ho.ResizableBox,{className:e.mruContainer,width:350,height:1/0,maxConstraints:[800,1/0],minConstraints:[300,1/0],resizeHandles:["w"],handle:(0,V.jsx)("div",{className:e.mruPaneHandle}),children:(0,V.jsx)(vo,{})})]})};var Ie=a(c());Eo.default.createRoot(document.getElementById("root")).render((0,Ie.jsx)(so,{children:(0,Ie.jsx)(uo,{children:(0,Ie.jsx)(Vo,{})})}));
